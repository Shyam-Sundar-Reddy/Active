<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mahat</title>
  <link
  href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300&display=swap"
  rel="stylesheet">
  <!-- css links  -->
  
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/responsive.css">
  <link rel="stylesheet" href="./css/font.css">

  <!-- font awesome link  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- bootstrap link  -->
  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <script src="./js/bootstrap.bundle.min.js"></script>
 
  <style>
 .effect-on-hover:hover {
    box-shadow: 0 0 10px 2px orange;
    transition: box-shadow 0.3s ease;
}

  </style>
</head>

<body class="mahat-wrapper">
  <!-- header  -->
  <header>
    <div class="header_wrapper custom-container">
      <div class="dashboard_logo">
        <img src="./images/logo.png" alt="logo">
      </div>
      <div class="my_project_wrapper">
        <a class="my_project active">
          <div class="folder"><img src="./images/user_h.png" alt="project"></div>
          <p class="font-15">My Project</p>
        </a>
        <a class="my_project ">
          <div class="folder"><img src="./images/star.png" alt="current"></div>
          <p class="font-15">Current Project</p>
        </a>

        <div class="dropdown my_project">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuSetting"
            data-bs-toggle="dropdown" aria-expanded="false">
            <div class="folder"><img src="./images/set.png" alt="dropdownMenuSetting"></div>
            <p class="font-15">Settings</p>
            <i class="fa fa-angle-down" aria-hidden="true"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuSetting">
            <li><a class="dropdown-item" href="#"><img src="./images/tech_blk.png" alt="dropdownMenuSetting">Tech
                Settings</a></li>
            <li><a class="dropdown-item" href="#"><img src="./images/ux_blk.png" alt="dropdownMenuSetting">UX
                Settings</a></li>
          </ul>
        </div>


      </div>
      <div class="user_login_wrapper">
        <input type="checkbox" id="enableSpeechRecognition" name="mice" value="X-pilate">
        <p class="user_name font-16">John Doe</p>
        <div class="user_logo"><img src="./images/userlogo.png" alt="userlogo"></div>

        <div class="dropdown">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu" data-bs-toggle="dropdown"
            aria-expanded="false">
            <i class="fa fa-angle-down" aria-hidden="true"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Sign Out</a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <!-- body section  -->
  <section>
    <div class="dashboard_wrapper">
    
        <div class="dashbord-message-left">
          
           
              <ul class="modal_side_nav_wrapper">
                <li class="active">
                  <a href="#">
                    <div class="modal_side_nav">
                      <img src="./images/modal.png" alt="modal">
                    </div>
                    <p>Model</p>
                  </a>
                </li>
                <li>
                  <a href="#">
                  <div class="modal_side_nav">
                    <img src="./images/build.png" alt="modal">
                  </div>
                  <p>Build</p>
                </a>
                </li>
                <li>
                  <a href="#">
                  <div class="modal_side_nav">
                    <img src="./images/workflow.png" alt="modal">
                  </div>
                  <p>Workflow</p>
                </a>
                </li>
                <li>
                  <a href="#">
                  <div class="modal_side_nav">
                    <img src="./images/preview.png" alt="modal">
                  </div>
                  <p>Preview</p>
                </a>
                </li>
                <li class="accor_arrow_right">
                  <img src="./images/right_arrow.png" alt="arrow">
                </li>
              </ul>
           
            
            <div class="harmacy_kit_head-wrapper">
             <div class="harmacy_kit_head">
              <div class="tools_accordion acc">
                <div class="search_for_tool">
                  <input type="text" placeholder="Search for the tools" class="form-control">
                </div>
                <div class="search_toll_collapse accordion">
                  <div class="acc_card">
                    <div class="serach_text_field accordion-header active" data-target="search_text_1">
                      <h3>Text Fields</h3>
                    </div>
                    <div id="search_text_1" class="search_text_field_inner accordion-content " style="display:block">
                      <ul>
                        <li  data-type="single">
                          <div class="single">
                          <div class="text_field_img">
                            <img src="./images/text_field_1.png" alt="single">
                          </div>
  
                          Single
                        </div>
                        </li>
                        <li  data-type="multi">
                          <div class="multi">
                          <div class="text_field_img">
                            <img src="./images/text_field_2.png" alt="Multi">
                          </div>
                          Multi
                        </div>
                        </li>
                        <li>
                          <div class="text_field_img">
                            <img src="./images/text_field_3.png" alt="rich_text">
                          </div>
                          Rich Text
                        </li>
                        <li>
                          <div class="text_field_img">
                            <img src="./images/text_field_3.png" alt="big_text">
                          </div>
                          Big Text
                        </li>
                        <li>
                          <div class="text_field_img">
                            <img src="./images/text_field_4.png" alt="email">
                          </div>
                          Email
                        </li>
                        <li  data-type="mobile">
                          <div class="mobile">
                          <div class="text_field_img">
                            <img src="./images/text_field_5.png" alt="digit_mobile">
                          </div>
                          10 Digit Mobile
                        </div>
                        </li>
                        <li>
                          <div class="text_field_img">
                            <img src="./images/text_field_6.png" alt="url">
                          </div>
                          URL
                        </li>
                        <li>
                          <div class="text_field_img">
                            <img src="./images/text_field_7.png" alt="password">
                          </div>
                          Password
                        </li>
                      </ul>
                    </div>
                  </div>
                      
                

                </div> 
                <div class="accor_arrow_left">
                  <img src="./images/left_arow.png" alt="arrow">
                </div>
              </div>
              <div class="pharmacy_kit_wrapper">
                <div class="pharmacy_backarrow">
                  <img src="./images/back_arrow.png" alt="back_arrow">
                  <h3>Design your Entities</h3>
                </div>
                <div class="design_entity">
                  <!-- <h6>Design your Entities</h6> -->
                  <div class="design_entity_wrapper">
                    <div id="spokenText" style="margin-top: 20px; font-size: 20px; color: blue;"></div>

                  
                  <div class="deisgn_entity_content">
                    <label for="">Entity Name *</label>
                    <input type="text" value="" class="form-control" id="Name">
                  </div>
                  <div class="deisgn_entity_content">
                    <label for="">Entity Type *</label>
                    <select class="form-select" id="type">
                      <option>Sample</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                    </select>
                  </div>
                  <div class="deisgn_entity_content">
                    <label for="">Entity Data*</label>
                    <select class="form-select" id="data">
                      <option>Sample</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                    </select>
                  </div>
                  <div class="deisgn_entity_content">
                    <label for="">Menu item*</label>
                    <select class="form-select" id="item">
                      <option>Sample</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                    </select>
                  </div>
                  <div class="cancel_sub_btn">
                    <button  id="Cancel" class="btn">Cancel</button>
                    <button id="Save" class="btn">Save</button>
                  </div>
                </div>
                </div>
                <div class="click_req">
                  Click Required Controls or Drag & Drop Below
                </div>
                <div class="user_detail_wrapper_head">

               
              
              </div>
             </div>
             </div>
               
            </div>
         

        </div>
        <div class=" message_tab">
          <ul class="nav nav-tabs dashboard_tab" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link " id="home-tab" data-bs-toggle="tab" data-bs-target="#Create_Project"
                type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">Create Project</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#Chat" type="button"
                role="tab" aria-controls="profile-tab-pane" aria-selected="false">Chat</button>
            </li>
          </ul>
          <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade " id="Create_Project" role="tabpanel" aria-labelledby="home-tab"
              tabindex="0">

              <h2 class="create_project_greeting font-24">Hi! 👋</h2>
              <p class="like_to_create font-18">What Would you Like to Create</p>
              <input type="text" class="form-control purpose_of_project font-15" placeholder="Enter Your Puspose">
              <div class="create_project_carousel">
                <div id="demo" class="carousel slide" data-bs-ride="carousel">
                  <!-- Indicators/dots -->
                  <div class="carousel-indicators">
                    <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
                  </div>

                  <!-- The slideshow/carousel -->
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <div class="digital_core_wrapper">
                        <div class="digital_core_img"><img src="./images/digital_core.png" alt="digitalcore"></div>
                        <h3 class="font-18">Digital Core</h3>
                        <p class="digital_core_trade font-13">Trading</p>
                        <p class="font-15 digital_core_para">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                          sed do eiusmod tempor incididunt ut.</p>
                        <p class="font-14 digital_example">Example </p>
                        <p class="font-14 digital_example_content">
                          E-Trade, Ally Invest, TradeStation, Firstrade, Upstox, Choice, eToro, E*Trade, SAS Online,
                          Angel Broking </p>
                      </div>
                      <button class="btn font-15 create_btn">Create</button>
                    </div>
                    <div class="carousel-item">
                      <div class="digital_core_wrapper">
                        <div class="digital_core_img"><img src="./images/digital_core.png" alt="digitalcore"></div>
                        <h3 class="font-18">Digital Core</h3>
                        <p class="digital_core_trade font-13">Trading</p>
                        <p class="font-15 digital_core_para">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                          sed do eiusmod tempor incididunt ut.</p>
                        <p class="font-14 digital_example">Example </p>
                        <p class="font-14 digital_example_content">
                          E-Trade, Ally Invest, TradeStation, Firstrade, Upstox, Choice, eToro, E*Trade, SAS Online,
                          Angel Broking </p>
                      </div>
                      <button class="btn font-15 create_btn">Create</button>
                    </div>
                    <div class="carousel-item">
                      <div class="digital_core_wrapper">
                        <div class="digital_core_img"><img src="./images/digital_core.png" alt="digitalcore"></div>
                        <h3 class="font-18">Digital Core</h3>
                        <p class="digital_core_trade font-13">Trading</p>
                        <p class="font-15 digital_core_para">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                          sed do eiusmod tempor incididunt ut.</p>
                        <p class="font-14 digital_example">Example </p>
                        <p class="font-14 digital_example_content">
                          E-Trade, Ally Invest, TradeStation, Firstrade, Upstox, Choice, eToro, E*Trade, SAS Online,
                          Angel Broking </p>
                      </div>
                      <button class="btn font-15 create_btn">Create</button>
                    </div>
                  </div>

                  <!-- Left and right controls/icons -->
                  <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                  </button>
                  <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                  </button>
                </div>
              </div>

            </div>
            <div class="tab-pane fade show active" id="Chat" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
              <div class="chat_detail">
                <div class="send_receive">
                  <div class="receiver">
                    Hi, I’m Mahat.ai chat bot. How can I help you today?
                  </div>
                  <div class="sender">
                    Can you give me some details
                    on control set?
                  </div>
                  <div class="receiver">
                    Hi, I’m Mahat.ai chat bot. How can I help you today?
                  </div>
                  <div class="sender">
                    Can you give me some details
                    on control set?
                  </div>
                </div>

                <div class="sent_message">
                  <input type="text" placeholder="Type here..." />
                  <button><img src="./images/send.png" /></button>
                </div>

              </div>
            </div>
          </div>  
          <div class="chat_toggle">
          </div>
        </div>
     
    </div>
  </section>
 

  <!-- jquery link  -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  
   
  <script src="./js/custom.js"></script>
  <script src="./js/jquery.min.js"></script>
 <!-- bootstrap link  -->

 <script src="./js/bootstrap.min.js"></script>
 
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="./js/bootstrap.min.js"></script>
<script>
$(document).ready(function() {
  var userDetailWrappers = []; // This array will store references to the user_detail_wrapper divs

  $('#enableSpeechRecognition').change(function() {
        if (this.checked) {
        
          startRecognition();
          $('.acc_card, .user_detail_wrapper_head, .design_entity').addClass('effect-on-hover');
        } else {
      
          recognition.stop();
          $('.acc_card, .user_detail_wrapper_head, .design_entity').removeClass('effect-on-hover');
        }
      });
  const config = {
        'single': [
            {type: 'text', placeholder: 'User Name', value: '', maxlength: '128'}
        ],
        'multi': [
            {type: 'text', placeholder: 'Display Name', value: '', maxlength: '256'}
        ],
        'mobile': [
            {type: 'text', placeholder: 'Phone Number', value: '', maxlength: '10'}
        ]
    };

    // Speech recognition setup
    var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    if (typeof SpeechRecognition !== "undefined") {
        var recognition = new SpeechRecognition();
        recognition.continuous = true; // Keep listening even after speech has stopped
        recognition.lang = 'en-IND';
        var recognizing = false; // A flag to keep track of whether recognition is active
        var activeInputElement = null; // To keep track of the currently focused input
        var currentHoverDiv = null; // To keep track of the currently hovered div

        recognition.onstart = function() {
            recognizing = true;
        };

        recognition.onerror = function(event) {
            console.error('Speech recognition error:', event.error);
            recognizing = false;
        };

        recognition.onend = function() {
            recognizing = false;
            // Automatically restart recognition if an input field is focused.
            if (activeInputElement) {
                recognition.start();
            }
        };

        recognition.onresult = function(event) {
            var last = event.results.length - 1;
            var command = event.results[last][0].transcript.trim();
          
    if (activeInputElement) {
       
        $(activeInputElement).val(function(i, oldVal) {
            return oldVal + ' ' + command;  
        });
    }
    
    
    else {
        console.log("No active input element. Recognized speech:", command);
    }
            if (currentHoverDiv === '.acc_card') {
              for (var key in config) {
                if (command.toLowerCase().includes(key)) {
                    // Generate and append the UI based on the recognized command
                    console.log('Sorting and adding class based on:', command);
                    appendUIBasedOnCommand(key);
                    break; // Exit after the first match to prevent multiple appends
                }
            }
            
            } else if (currentHoverDiv === '.user_detail_wrapper_head') {
               
                console.log('Currently hovered div:', currentHoverDiv, 'Said:', command);
            } else if (currentHoverDiv === '.design_entity') {
                 console.log('Currently hovered div:', currentHoverDiv, 'Said:', command);
        $('.design_entity').find('input, selec,button').each(function() {

            var id = $(this).attr('id');
            if (id && id.toLowerCase() === command.toLowerCase()) {
                // Perform the action based on the type of element
                if ($(this).is('input')) {
                    $(this).focus();
                } else if ($(this).is('select')) {
                    $(this).focus();
                   
                }
                // else if ($(this).is('button')) {
                //     $(this).focus();
                //    console.log("btn event")
                // }
                return false;  
           
          }
        });
    }

            else if(activeInputElement){
            $(activeInputElement).val(command); // Set the value of the active input element
        }
        else{
console.log("ignore")
        }
        };

        // Function to manage starting of speech recognition
        function startRecognition() {
            if (!recognizing) {
                recognition.start();
            }
        }

        // Attach focus and blur event handlers to input fields inside .user_detail_wrapper_head
        $('.user_detail_wrapper_head,.design_entity').on('focus', 'input', function() {
          startSpeechRecognitionForInput(this);
            // No class is added here
        }).on('blur', 'input', function() {
            activeInputElement = null; // Clear the active input
            
        });

        // Start recognition on page load
       // startRecognition();
    } else {
        console.log('Speech Recognition not supported in this browser.');
    }

    // Function to append UI based on command
    function appendUIBasedOnCommand(command) {
        if (command in config) {
            var content = generateContent(command, config[command]);
            $('.user_detail_wrapper_head').append(content);
        }
    }

    $(function() {
 // Make the .user_detail_wrapper_head accept drops
 $(".user_detail_wrapper_head").droppable({
        accept: ".acc_card .single, .acc_card .multi, .acc_card .mobile",
        drop: function(event, ui) {
            // Extract the type from the dropped element's class
            var type = ui.draggable.attr('class').split(' ')[1]; // Assuming the type is the second class
            appendUIBasedOnCommand(type);
        }
    });

 // Make the elements inside .acc_card draggable
 $(".acc_card .single, .acc_card .multi, .acc_card .mobile").draggable({
    helper: "clone",
    revert: "invalid"
 });
});

    // Function to generate content based on type and fields
    const imageSources = {
        'single': './images/input_logo.png',
        'multi': './images/question 2.png',
        'mobile': './images/num_logo.png'
    };

    // Function to generate content based on type and fields
    function generateContent(type, fields) {
        let innerContent = fields.map(field => `
            <div class="user_name_input">
                <input type="${field.type}" placeholder="${field.placeholder}" value="${field.value}" class="form-control" maxlength="${field.maxlength}">
            </div>
            <div class="user_name_input">
                <input type="${field.type}" placeholder="attributename" value="${field.value}" class="form-control" maxlength="${field.maxlength}">
            </div>
        `).join('');

        let content = `
            <div class="user_detail_wrapper">
                <div class="${type}">
                    <div class="uner_detail_inner">
                        <div class="user_det_img"><img src="${imageSources[type]}" alt="${type}_logo"></div>
                        ${innerContent}
                        <div class="validity_wraper">
                  <div class="circle_validity active"></div>
                  <div class="fingure_validity"></div>
                  </div>
                        <div class="choose_type_date">
                            <input type="number" value="0" class="form-control">
                            <input type="number" value="${type === 'multi' ? '256' : '128'}" class="form-control">
                        </div>
                        <div class="cancel_wrapper">
                            <div class="cancel_btn"><img src="./images/circle_red_circle.png" alt="cancel_btn"></div>
                        </div>
                    </div>
                </div>
            </div>`;
        return content;
    }

    // Function to append UI based on command
    function appendUIBasedOnCommand(command) {
        if (command in config) {
            var content = generateContent(command, config[command]);
            $('.user_detail_wrapper_head').append(content);
        }
    }
   
    var focusDivSelectors = ['.acc_card', '.user_detail_wrapper_head', '.design_entity'];
 
// Attach event listeners for hover (enter/leave) events to specified divs
focusDivSelectors.forEach(function(selector) {
        $(selector).on('mouseenter', function() {
            currentHoverDiv = selector;
        }).on('mouseleave', function() {
            currentHoverDiv = null;
        });
    });

  // New function to handle speech recognition for input fields
  function startSpeechRecognitionForInput(inputElement) {
        if (!recognizing) {
            recognition.start();
        }
        activeInputElement = inputElement; // Set the active input element
    }

 
})
    
 
</script>
 
  
 </body>

</html>